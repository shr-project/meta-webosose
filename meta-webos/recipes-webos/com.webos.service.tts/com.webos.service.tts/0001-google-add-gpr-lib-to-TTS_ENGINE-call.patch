From bcb22a3fe1391a97777a8ce57e77f0538f1def08 Mon Sep 17 00:00:00 2001
From: Martin Jansa <martin2.jansa@lgepartner.com>
Date: Fri, 29 Sep 2023 20:40:25 +0200
Subject: [PATCH] google: add gpr lib to TTS_ENGINE call

:Release Notes:
With new grpc from:
dfac3cc512 devtools: grpc: bump to 1.56.2

:Detailed Notes:
  this was now failing with:
com.webos.service.tts/1.0.0-28+git/recipe-sysroot-native/usr/bin/x86_64-webos-linux/../../libexec/x86_64-webos-linux/gcc/x86_64-webos-linux/13.2.0/ld: CMakeFiles/tts-service.dircom.webos.service.tts/1.0.0-28+git/recipe-sysroot/usr/include/google/cloud/texttospeech/v1/cloud_tts.grpc.pb.cc.o: undefined reference to symbol 'gpr_inf_future'
com.webos.service.tts/1.0.0-28+git/recipe-sysroot-native/usr/bin/x86_64-webos-linux/../../libexec/x86_64-webos-linux/gcc/x86_64-webos-linux/13.2.0/ld: com.webos.service.tts/1.0.0-28+git/recipe-sysroot/usr/lib/libgpr.so.33: error adding symbols: DSO missing from command line
collect2: error: ld returned 1 exit status
ninja: build stopped: subcommand failed.

  unfortunately this hardcodes list of libs instead of using .cmake
  which lists it correctly:
./recipe-sysroot/usr/lib/cmake/grpc/gRPCTargets-noconfig.cmake:  IMPORTED_LOCATION_NOCONFIG "${_IMPORT_PREFIX}/lib/libgpr.so.33.0.0"
./recipe-sysroot/usr/lib/cmake/grpc/gRPCTargets-noconfig.cmake:  IMPORTED_SONAME_NOCONFIG "libgpr.so.33"
./recipe-sysroot/usr/lib/cmake/grpc/gRPCTargets-noconfig.cmake:list(APPEND _cmake_import_check_files_for_gRPC::gpr "${_IMPORT_PREFIX}/lib/libgpr.so.33.0.0" )

set_target_properties(gRPC::grpc PROPERTIES
  INTERFACE_COMPILE_FEATURES "cxx_std_14"
  INTERFACE_INCLUDE_DIRECTORIES "${_IMPORT_PREFIX}/include"
  INTERFACE_LINK_LIBRARIES "ZLIB::ZLIB;c-ares::cares;gRPC::address_sorting;re2::re2;gRPC::upb;dl;m;Threads::Threads;rt;absl::cleanup;absl::flat_hash_map;absl::flat_hash_set;absl::inlined_vector;absl::bind_front;absl::function_ref;absl::hash;absl::type_traits;absl::statusor;absl::span;absl::utility;gRPC::gpr;OpenSSL::SSL;OpenSSL::Crypto;gRPC::address_sorting;gRPC::upb"
)

* similarly absl_synchronization:

com.webos.service.tts/1.0.0-28+git/recipe-sysroot-native/usr/bin/x86_64-webos-linux/../../libexec/x86_64-webos-linux/gcc/x86_64-webos-linux/13.2.0/ld: CMakeFiles/tts-service.dir/src/engines/tts/google/GoogleTTSEngine.cpp.o: undefined reference to symbol '_ZN4absl12lts_202308025MutexD1Ev'
com.webos.service.tts/1.0.0-28+git/recipe-sysroot-native/usr/bin/x86_64-webos-linux/../../libexec/x86_64-webos-linux/gcc/x86_64-webos-linux/13.2.0/ld: com.webos.service.tts/1.0.0-28+git/recipe-sysroot/usr/lib/libabsl_synchronization.so.2308.0.0: error adding symbols: DSO missing from command line
collect2: error: ld returned 1 exit status

com.webos.service.tts/1.0.0-28+git/recipe-sysroot-native/usr/bin/x86_64-webos-linux/../../libexec/x86_64-webos-linux/gcc/x86_64-webos-linux/13.2.0/ld: CMakeFiles/tts-service.dircom.webos.service.tts/1.0.0-28+git/recipe-sysroot/usr/include/google/api/metric.pb.cc.o: undefined reference to symbol '_ZN4absl12lts_2023080213hash_internal15MixingHashState5kSeedE'
com.webos.service.tts/1.0.0-28+git/recipe-sysroot-native/usr/bin/x86_64-webos-linux/../../libexec/x86_64-webos-linux/gcc/x86_64-webos-linux/13.2.0/ld: com.webos.service.tts/1.0.0-28+git/recipe-sysroot/usr/lib/libabsl_hash.so.2308.0.0: error adding symbols: DSO missing from command line
collect2: error: ld returned 1 exit status

com.webos.service.tts/1.0.0-28+git/recipe-sysroot-native/usr/bin/x86_64-webos-linux/../../libexec/x86_64-webos-linux/gcc/x86_64-webos-linux/13.2.0/ld: CMakeFiles/tts-service.dircom.webos.service.tts/1.0.0-28+git/recipe-sysroot/usr/include/google/cloud/texttospeech/v1/cloud_tts.grpc.pb.cc.o: undefined reference to symbol '_ZN4absl12lts_202308024Cord6AppendEOS1_'
com.webos.service.tts/1.0.0-28+git/recipe-sysroot-native/usr/bin/x86_64-webos-linux/../../libexec/x86_64-webos-linux/gcc/x86_64-webos-linux/13.2.0/ld: com.webos.service.tts/1.0.0-28+git/recipe-sysroot/usr/lib/libabsl_cord.so.2308.0.0: error adding symbols: DSO missing from command line
collect2: error: ld returned 1 exit status

com.webos.service.tts/1.0.0-28+git/recipe-sysroot-native/usr/bin/x86_64-webos-linux/../../libexec/x86_64-webos-linux/gcc/x86_64-webos-linux/13.2.0/ld: CMakeFiles/tts-service.dircom.webos.service.tts/1.0.0-28+git/recipe-sysroot/usr/include/google/cloud/texttospeech/v1/cloud_tts.grpc.pb.cc.o: undefined reference to symbol '_ZN4absl12lts_2023080213cord_internal17cordz_next_sampleE'
com.webos.service.tts/1.0.0-28+git/recipe-sysroot-native/usr/bin/x86_64-webos-linux/../../libexec/x86_64-webos-linux/gcc/x86_64-webos-linux/13.2.0/ld: com.webos.service.tts/1.0.0-28+git/recipe-sysroot/usr/lib/libabsl_cordz_functions.so.2308.0.0: error adding symbols: DSO missing from command line
collect2: error: ld returned 1 exit status

com.webos.service.tts/1.0.0-28+git/recipe-sysroot-native/usr/bin/x86_64-webos-linux/../../libexec/x86_64-webos-linux/gcc/x86_64-webos-linux/13.2.0/ld: CMakeFiles/tts-service.dircom.webos.service.tts/1.0.0-28+git/recipe-sysroot/usr/include/google/api/metric.pb.cc.o: undefined reference to symbol '_ZN4absl12lts_2023080212log_internal15LogMessageFatalC1EPKci'
com.webos.service.tts/1.0.0-28+git/recipe-sysroot-native/usr/bin/x86_64-webos-linux/../../libexec/x86_64-webos-linux/gcc/x86_64-webos-linux/13.2.0/ld: com.webos.service.tts/1.0.0-28+git/recipe-sysroot/usr/lib/libabsl_log_internal_message.so.2308.0.0: error adding symbols: DSO missing from command line
collect2: error: ld returned 1 exit status

com.webos.service.tts/1.0.0-28+git/recipe-sysroot-native/usr/bin/x86_64-webos-linux/../../libexec/x86_64-webos-linux/gcc/x86_64-webos-linux/13.2.0/ld: CMakeFiles/tts-service.dircom.webos.service.tts/1.0.0-28+git/recipe-sysroot/usr/include/google/api/metric.pb.cc.o: undefined reference to symbol '_ZN4absl12lts_2023080212log_internal9kCharNullE'
com.webos.service.tts/1.0.0-28+git/recipe-sysroot-native/usr/bin/x86_64-webos-linux/../../libexec/x86_64-webos-linux/gcc/x86_64-webos-linux/13.2.0/ld: com.webos.service.tts/1.0.0-28+git/recipe-sysroot/usr/lib/libabsl_log_internal_nullguard.so.2308.0.0: error adding symbols: DSO missing from command line
collect2: error: ld returned 1 exit status

* add absl_log_internal_check_op as well to fix
http://gecko.lge.com:8000/Errors/Details/948399

FAILED: tts-service
: && TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot-native/usr/bin/x86_64-webos-linux/x86_64-webos-linux-g++ --sysroot=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot -m64 -march=core2 -mtune=core2 -msse3 -mfpmath=sse -fstack-protector-all  -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security -Werror=format-security -Werror=return-type  --sysroot=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot  -O2 -g -fcanon-prefix-map  -fmacro-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/git=/usr/src/debug/com.webos.service.tts/1.0.0-31  -fdebug-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/git=/usr/src/debug/com.webos.service.tts/1.0.0-31  -fmacro-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/build=/usr/src/debug/com.webos.service.tts/1.0.0-31  -fdebug-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/build=/usr/src/debug/com.webos.service.tts/1.0.0-31  -fdebug-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot=  -fmacro-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot=  -fdebug-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot-native=  -fmacro-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot-native=  -pipe -fvisibility-inlines-hidden  -DUSE_PMLOG_DECLARATION -DUSE_PMLOG -std=c++17 -Wall -DNDEBUG  -m64 -march=core2 -mtune=core2 -msse3 -mfpmath=sse -fstack-protector-all  -O2 -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security -Werror=format-security -Werror=return-type  --sysroot=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot  -O2 -g -fcanon-prefix-map  -fmacro-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/git=/usr/src/debug/com.webos.service.tts/1.0.0-31  -fdebug-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/git=/usr/src/debug/com.webos.service.tts/1.0.0-31  -fmacro-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/build=/usr/src/debug/com.webos.service.tts/1.0.0-31  -fdebug-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/build=/usr/src/debug/com.webos.service.tts/1.0.0-31  -fdebug-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot=  -fmacro-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot=  -fdebug-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot-native=  -fmacro-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot-native=  -pipe -fvisibility-inlines-hidden  -Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed -fcanon-prefix-map  -fmacro-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/git=/usr/src/debug/com.webos.service.tts/1.0.0-31  -fdebug-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/git=/usr/src/debug/com.webos.service.tts/1.0.0-31  -fmacro-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/build=/usr/src/debug/com.webos.service.tts/1.0.0-31  -fdebug-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/build=/usr/src/debug/com.webos.service.tts/1.0.0-31  -fdebug-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot=  -fmacro-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot=  -fdebug-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot-native=  -fmacro-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot-native=  -Wl,-z,relro,-z,now -Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed -fcanon-prefix-map  -fmacro-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/git=/usr/src/debug/com.webos.service.tts/1.0.0-31  -fdebug-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/git=/usr/src/debug/com.webos.service.tts/1.0.0-31  -fmacro-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/build=/usr/src/debug/com.webos.service.tts/1.0.0-31  -fdebug-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/build=/usr/src/debug/com.webos.service.tts/1.0.0-31  -fdebug-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot=  -fmacro-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot=  -fdebug-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot-native=  -fmacro-prefix-map=TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot-native=  -Wl,-z,relro,-z,now   -rdynamic CMakeFiles/tts-service.dir/src/core/AudioEngineFactory.cpp.o CMakeFiles/tts-service.dir/src/core/EngineHandler.cpp.o CMakeFiles/tts-service.dir/src/core/RequestHandler.cpp.o CMakeFiles/tts-service.dir/src/core/RequestQueue.cpp.o CMakeFiles/tts-service.dir/src/core/StatusHandler.cpp.o CMakeFiles/tts-service.dir/src/core/TTSEngineFactory.cpp.o CMakeFiles/tts-service.dir/src/core/TTSManager.cpp.o CMakeFiles/tts-service.dir/src/core/TTSRequest.cpp.o CMakeFiles/tts-service.dir/src/luna/TTSLunaService.cpp.o CMakeFiles/tts-service.dir/src/tts_main.cpp.o CMakeFiles/tts-service.dir/src/utils/ParameterListManager.cpp.o CMakeFiles/tts-service.dir/src/utils/TTSConfig.cpp.o CMakeFiles/tts-service.dir/src/utils/TTSErrors.cpp.o CMakeFiles/tts-service.dir/src/utils/TTSLog.cpp.o CMakeFiles/tts-service.dir/src/utils/TTSParameters.cpp.o CMakeFiles/tts-service.dir/src/utils/TTSUtils.cpp.o CMakeFiles/tts-service.dir/src/engines/tts/google/GoogleTTSEngine.cpp.o CMakeFiles/tts-service.dir/src/engines/tts/google/GoogleTTSEngineFactory.cpp.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/annotations.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/annotations.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/auth.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/auth.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/backend.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/backend.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/billing.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/billing.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/config_change.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/config_change.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/consumer.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/consumer.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/context.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/context.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/control.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/control.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/distribution.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/distribution.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/documentation.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/documentation.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/endpoint.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/endpoint.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/experimental/authorization_config.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/experimental/authorization_config.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/experimental/experimental.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/experimental/experimental.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/http.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/http.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/httpbody.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/httpbody.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/label.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/label.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/launch_stage.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/launch_stage.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/log.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/log.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/logging.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/logging.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/metric.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/metric.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/monitored_resource.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/monitored_resource.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/monitoring.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/monitoring.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/quota.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/quota.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/service.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/service.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/source_info.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/source_info.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/system_parameter.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/system_parameter.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/usage.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/api/usage.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/cloud/texttospeech/v1/cloud_tts.grpc.pb.cc.o CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/cloud/texttospeech/v1/cloud_tts.pb.cc.o CMakeFiles/tts-service.dir/src/engines/audio/pulse/PulseAudioEngine.cpp.o CMakeFiles/tts-service.dir/src/engines/audio/pulse/PulseAudioEngineFactory.cpp.o -o tts-service  -LTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/lib  -lluna-service2++  -lluna-service2  -lPmLogLib  -lpbnjson_cpp  -lpbnjson_c  -LTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/lib  -lglib-2.0  -LTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/lib  -lPmLogLib  -lgpr  -labsl_city  -labsl_cord  -labsl_cordz_info  -labsl_cordz_functions  -labsl_log_internal_message  -labsl_log_internal_nullguard  -labsl_synchronization  -labsl_hash  -lgrpc  -lgrpc++  -lprotobuf  -LTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/lib  -lpulse-mainloop-glib  -pthread  -lglib-2.0  -lpulse-simple  -pthread  -lpulse  -pthread  -LTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/lib  -lpbnjson_cpp  -lpbnjson_c  -lpthread  -Wl,--no-as-needed  -lPmLogLib  -lglib-2.0  -lgpr  -labsl_city  -labsl_cord  -labsl_cordz_info  -labsl_cordz_functions  -labsl_log_internal_message  -labsl_log_internal_nullguard  -labsl_synchronization  -labsl_hash  -lgrpc  -lgrpc++  -lprotobuf  -lpulse-mainloop-glib  -lpulse-simple  -lpulse  -lpthread && :
TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot-native/usr/bin/x86_64-webos-linux/../../libexec/x86_64-webos-linux/gcc/x86_64-webos-linux/14.2.0/ld: CMakeFiles/tts-service.dirTOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/include/google/cloud/texttospeech/v1/cloud_tts.grpc.pb.cc.o: undefined reference to symbol '_ZN4absl12lts_2024011612log_internal17MakeCheckOpStringIPKvS4_EEPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEET_T0_PKc'
TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot-native/usr/bin/x86_64-webos-linux/../../libexec/x86_64-webos-linux/gcc/x86_64-webos-linux/14.2.0/ld: TOPDIR/BUILD/work/qemux86_64-webos-linux/com.webos.service.tts/1.0.0-31/recipe-sysroot/usr/lib/libabsl_log_internal_check_op.so.2401.0.0: error adding symbols: DSO missing from command line

after grpc was upgraded to 1.66.1 in:
https://git.openembedded.org/meta-openembedded/commit/?id=cfd5a02d269e2b0103bd9ca03574481134ff3b76

:Testing Performed:
Only build tested.

:QA Notes:
No change to image.

:Issues Addressed:
[WRP-310] Apply .patch files for hot-fix to corresponding repositories

Change-Id: I33403d27378896e2ab879899f0b4d071307a192b
---
Upstream-Status: Submitted [http://gpro.lge.com/c/webosose/com.webos.service.tts/+/383766 google: add gpr lib to TTS_ENGINE call]

 src/engines/tts/google/CMakeLists.txt | 10 ++++++++++
 1 file changed, 10 insertions(+)

diff --git a/src/engines/tts/google/CMakeLists.txt b/src/engines/tts/google/CMakeLists.txt
index f04a47d..a766540 100755
--- a/src/engines/tts/google/CMakeLists.txt
+++ b/src/engines/tts/google/CMakeLists.txt
@@ -26,6 +26,16 @@ set(src ${CMAKE_CURRENT_SOURCE_DIR}/GoogleTTSEngine.cpp
     ${GOOGLE_SOURCE}
 )
  set(deps
+     gpr
+     absl_city
+     absl_cord
+     absl_cordz_info
+     absl_cordz_functions
+     absl_log_internal_check_op
+     absl_log_internal_message
+     absl_log_internal_nullguard
+     absl_synchronization
+     absl_hash
      grpc
      grpc++
      protobuf
